```cpp
#pragma warning(disable:4996)
#include<iostream>
#include<vector>
#include<math.h>
#include<algorithm>
#include <random>
#include<time.h>
#include<string>
#include<queue>
#include <set>
#include <map>
#include <list>
#include<stack>
#include<deque>
#include<cstring>
#define ll  long long
#define INF 987654321
using namespace std;
vector<vector<int>> partialCosts;
vector<int> saveSumFromZeroToIndex;

int calculatePartialSum(int start, int end) {
	if (start == 0)
		return saveSumFromZeroToIndex[end];
	else
		return saveSumFromZeroToIndex[end] - saveSumFromZeroToIndex[start - 1];
}

int calculatePartsForCalculateCost(int start, int end) {
	
	int& ret = partialCosts[start][end];

	if (partialCosts[start][end] != -1)return partialCosts[start][end];
	

	ret = INF;

	for (int idx = start; idx < end; idx++) {
		int partialSum = calculatePartialSum(start,end);
		int left = calculatePartsForCalculateCost(start, idx);
		int right = calculatePartsForCalculateCost(idx + 1, end);
		//ret = min(ret, left+right);
		ret = min(ret, left+right+partialSum);
	}
	partialCosts[start][end] = ret;
	return partialCosts[start][end];
}

void solve(int num) {
	int ret = INF;

	for (int i = 0; i < num - 1; i++) {
		ret = min(ret, calculatePartsForCalculateCost(0, i) + calculatePartsForCalculateCost(i + 1, num - 1));
	}

	cout << ret << endl;
	//cout << ret+saveSumFromZeroToIndex[num-1] << endl;
}


int main() {

	ios::sync_with_stdio(false);
	cin.tie(NULL); cout.tie(NULL);
	
	int t; cin >> t;
	while (t>0) {
		int k;
		cin >> k;
		vector<int> inp(k);
		partialCosts = vector<vector<int>>(k, vector<int>(k,-1));
		

		for (int i = 0; i < k; i++) {
			cin >> inp[i];
			partialCosts[i][i] = inp[i];
		}
		saveSumFromZeroToIndex = vector<int>(k, 0);
		saveSumFromZeroToIndex[0] = inp[0];
		for (int i = 1; i < k; i++) {
			saveSumFromZeroToIndex[i] = saveSumFromZeroToIndex[i - 1] + inp[i];
		}
		solve(k);

		--t;
	}

	return 0;
}

```